<?xml version="1.0"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://java.sun.com/jsf/html" 
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:c="http://java.sun.com/jsp/jstl/core" 
    xmlns:ace="http://www.icefaces.org/icefaces/components" 
    xmlns:ice="http://www.icesoft.com/icefaces/component" 
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    template="/resources/templates/content-template.xhtml">
    
    <ui:param name="title" value="#{msgs[tabProxy.title]}"/>
    <ui:param name="description" value="#{msgs[tabProxy.description]}"/>
    <ui:param name="subMenuTitle" value="#{msgs[tabSet.subMenuTitle]}"/>
    <ui:param name="subMenuLinks" value="#{tabSet.subMenuLinks}"/>
    <ui:param name="resourceValue" value="#{tabProxy.exampleResource}"/>
    
    <ui:define name="example">
        <span class="row">
            <ace:tabSet id="myTabSet" cancelOnInvalid="#{not tabProxy.invalidSwitch}" clientSide="false">
                <ace:tabPane>
                    <f:facet name="label">My First Proxy Tab</f:facet>

                    <h:form>
                        <ace:tabSetProxy for="myTabSet" />
                        <p>Note that the tab-specific forms will submit on tab-change to prevent the loss of data.</p>
                        <h:inputText value="#{tabProxy.exampleText}" />
                    </h:form>
                </ace:tabPane>
                <ace:tabPane>
                    <f:facet name="label">My Second Proxy Tab</f:facet>

                    <h:form>
                        <div style="width:45%; margin:5px;" class="top options">
                            <ul>
                                <li>Switch Tabs When Form Invalid:<h:selectBooleanCheckbox value="#{tabProxy.invalidSwitch}" /></li>
                            </ul>
                            <h:commandButton value="Set Options"/>
                        </div>
                    </h:form>

                    <h:form id="secondTab">
                        <ace:tabSetProxy for="myTabSet" />
                        <p>
                        <ice:outputText value="This tabPane uses an ace:fileEntry component with the required attribute
                                             defaulting to true. This means even though we have a control in this form
                                             to toggle 'required', we can't use it without submitting a file at the
                                             same time. Working to avoid that validation dependency requires
                                             multiple forms, an immediate listener or singleSubmit be used." />
                        </p>
                        <div>
                            Required: <h:selectBooleanCheckbox value="#{tabProxy.fileEntryRequired}" />
                            <ace:fileEntry id="fileEntry" required="#{tabProxy.fileEntryRequired}" />
                        </div>
                        <h:commandButton value="Upload"/>
                        <p>The third tab contains a control to toggle 'required' on the FileEntry component. Enable
                        "Switch Tabs When Form Invalid" to ignore the validation on FileEntry and switch to that tab.</p>
                    </h:form>
                </ace:tabPane>
                <ace:tabPane>
                    <f:facet name="label">My Third Server Proxy Tab</f:facet>

                    <h:form>
                        File Upload Required:<h:selectBooleanCheckbox value="#{tabProxy.fileEntryRequired}" /><br/>
                        <h:commandButton value="Set Options"/>
                        <ace:tabSetProxy for="myTabSet" />
                    </h:form>
                </ace:tabPane>
            </ace:tabSet>
            </span>
            <div class="row">
                <span class="messages top">
                    <h:messages/>
                </span>
            </div>
    </ui:define>
</ui:composition>