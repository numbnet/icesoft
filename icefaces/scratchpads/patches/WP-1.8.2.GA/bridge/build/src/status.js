[Ice.Status=new Object].as(function(A){A.NOOPIndicator={on:Function.NOOP,off:Function.NOOP};A.RedirectIndicator=Object.subclass({initialize:function(B){this.uri=B;},on:function(){window.location.href=this.uri;},off:Function.NOOP});A.ElementIndicator=Object.subclass({initialize:function(B,C){this.elementID=B;this.indicators=C;this.indicators.push(this);this.off();},on:function(){this.indicators.each(function(C){if(C!=this){C.off();}}.bind(this));var B=this.elementID.asElement();if(B){B.style.visibility="visible";}},off:function(){var B=this.elementID.asElement();if(B){B.style.visibility="hidden";}}});A.OverlappingStateProtector=Object.subclass({initialize:function(B){this.indicator=B;this.counter=0;},on:function(){if(this.counter==0){this.indicator.on();}++this.counter;},off:function(){if(this.counter<1){return ;}if(this.counter==1){this.indicator.off();}--this.counter;}});A.ToggleIndicator=Object.subclass({initialize:function(B,C){this.onElement=B;this.offElement=C;this.off();},on:function(){this.onElement.on();this.offElement.off();},off:function(){this.onElement.off();this.offElement.on();}});A.MuxIndicator=Object.subclass({initialize:function(){this.indicators=arguments;this.off();},on:function(){$enumerate(this.indicators).each(function(B){B.on();});},off:function(){$enumerate(this.indicators).each(function(B){B.off();});}});A.PointerIndicator=Object.subclass({initialize:function(B){this.toggle=function(){this.on=Function.NOOP;var C=["input","select","textarea","button","a"].inject([B],function(D,E){return D.concat($enumerate(B.getElementsByTagName(E)).toArray());}).collect(function(D){var E=D.style.cursor;D.style.cursor="wait";return function(){D.style.cursor=E;};});this.off=function(){C.broadcast();this.on=this.toggle;this.off=Function.NOOP;};};this.on=/Safari/.test(navigator.userAgent)?Function.NOOP:this.toggle;this.off=Function.NOOP;}});A.OverlayIndicator=Object.subclass({initialize:function(B){this.configuration=B;},on:function(){if(/MSIE/.test(navigator.userAgent)){this.overlay=document.createElement("iframe");this.overlay.setAttribute("src",this.configuration.connection.context+"xmlhttp/wait-cursor");this.overlay.setAttribute("frameborder","0");document.body.appendChild(this.overlay);}else{this.overlay=document.body.appendChild(document.createElement("div"));this.overlay.style.cursor="wait";}var B=this.overlay.style;B.position="absolute";B.backgroundColor="white";B.zIndex="38000";B.top="0";B.left="0";B.opacity="0";B.filter="alpha(opacity=0)";B.width=(Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)-20)+"px";B.height=(Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-20)+"px";},off:function(){if(this.overlay){if(/MSIE/.test(navigator.userAgent)){var B=document.createElement("iframe");B.setAttribute("src",this.configuration.connection.context+"xmlhttp/blank");B.setAttribute("frameborder","0");document.body.replaceChild(B,this.overlay);document.body.removeChild(B);}else{document.body.removeChild(this.overlay);}}}});A.PopupIndicator=Object.subclass({initialize:function(F,E,D,C,B){this.message=F;this.description=E;this.buttonText=D;this.iconPath=C;this.panel=B;},on:function(){this.panel.on();var C=document.createElement("div");document.body.appendChild(C);var B=C.style;B.position="absolute";B.textAlign="center";B.zIndex="28001";B.color="black";B.backgroundColor="white";B.paddingLeft="0";B.paddingRight="0";B.paddingTop="15px";B.paddingBottom="15px";B.borderBottomColor="gray";B.borderRightColor="gray";B.borderTopColor="silver";B.borderLeftColor="silver";B.borderWidth="2px";B.borderStyle="solid";B.width="270px";var F=document.createElement("div");F.appendChild(document.createTextNode(this.message));var I=F.style;I.marginLeft="30px";I.textAlign="left";I.fontSize="14px";I.fontSize="14px";I.fontWeight="bold";C.appendChild(F);var E=document.createElement("div");E.appendChild(document.createTextNode(this.description));var H=E.style;H.fontSize="11px";H.marginTop="7px";H.marginBottom="7px";H.fontWeight="normal";F.appendChild(E);var G=document.createElement("input");G.type="button";G.value=this.buttonText;var J=G.style;J.fontSize="11px";J.fontWeight="normal";G.onclick=function(){window.location.reload();};C.appendChild(G);var D=function(){B.left=((window.width()-C.clientWidth)/2)+"px";B.top=((window.height()-C.clientHeight)/2)+"px";}.bind(this);D();window.onResize(D);},off:Function.NOOP});A.DefaultStatusManager=Object.subclass({initialize:function(G,D){this.configuration=G;this.container=D;this.connectionLostRedirect=G.connectionLostRedirectURI?new A.RedirectIndicator(G.connectionLostRedirectURI):null;this.sessionExpiredRedirect=G.sessionExpiredRedirectURI?new A.RedirectIndicator(G.sessionExpiredRedirectURI):null;var F=G.messages;var C=G.connection.context+"/xmlhttp/css/xp/css-images/connect_disconnected.gif";var E=G.connection.context+"/xmlhttp/css/xp/css-images/connect_caution.gif";var B=new A.PointerIndicator(D);this.busy=new A.OverlappingStateProtector(G.blockUI?new A.MuxIndicator(B,new A.OverlayIndicator(G)):B);this.sessionExpired=this.sessionExpiredRedirect?this.sessionExpiredRedirect:new A.PopupIndicator(F.sessionExpired,F.description,F.buttonText,C,this);this.connectionLost=this.connectionLostRedirect?this.connectionLostRedirect:new A.PopupIndicator(F.connectionLost,F.description,F.buttonText,E,this);this.serverError=new A.PopupIndicator(F.serverError,F.description,F.buttonText,E,this);this.connectionTrouble={on:Function.NOOP,off:Function.NOOP};},on:function(){var D=this.container.ownerDocument.createElement("iframe");D.setAttribute("src",this.configuration.connection.context+"xmlhttp/blank");D.setAttribute("frameborder","0");var B=D.style;B.position="absolute";B.display="block";B.visibility="visible";B.backgroundColor="white";B.zIndex="28000";B.top="0";B.left="0";B.opacity=0.22;B.filter="alpha(opacity=22)";this.container.appendChild(D);var C=this.container.tagName.toLowerCase()=="body"?function(){B.width=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)+"px";B.height=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)+"px";}:function(){B.width=this.container.offsetWidth+"px";B.height=this.container.offsetHeight+"px";};C();window.onResize(C);},off:Function.NOOP});A.ComponentStatusManager=Object.subclass({initialize:function(F,N,J,E,H,B,M){var L=[];var C=new Ice.Status.ElementIndicator(F,L);var I=new Ice.Status.ElementIndicator(N,L);var D=new Ice.Status.ElementIndicator(E,L);var K=new Ice.Status.ToggleIndicator(C,I);var G=H.configuration.blockUI?new Ice.Status.MuxIndicator(K,new Ice.Status.OverlayIndicator(H.configuration)):K;this.busy=new Ice.Status.OverlappingStateProtector(M?new Ice.Status.MuxIndicator(H.busy,G):G);this.connectionTrouble=new Ice.Status.ElementIndicator(J,L);if(B){this.dsm=H;this.connectionLost=new Ice.Status.MuxIndicator(D,this.dsm.connectionLost);this.sessionExpired=new Ice.Status.MuxIndicator(D,this.dsm.sessionExpired);this.serverError=new Ice.Status.MuxIndicator(D,this.dsm.serverError);}else{this.connectionLost=H.connectionLostRedirect?H.connectionLostRedirect:D;this.sessionExpired=H.sessionExpiredRedirect?H.sessionExpiredRedirect:D;this.serverError=D;}},on:function(){this.dsm.on();},off:function(){[this.busy,this.sessionExpired,this.serverError,this.connectionLost,this.connectionTrouble].eachWithGuard(function(B){B.off();});}});});