var currentFocus;function setFocus(A){currentFocus=A;}[Ice.Focus=new Object].as(function(D){function C(E){return/^\w[\w\-\:]*$/.test(E);}D.setFocus=(function(F){if(F&&C(F)){try{F.asExtendedElement().focus();setFocus(F);var E=document.getElementById(F);if(E){E.focus();}else{logger.info("Cannot set focus, no element for id ["+F+"]");}logger.debug("Focus Set on ["+F+"]");}catch(E){logger.info("Cannot set focus, no element for id ["+F+"]",E);}}else{logger.debug("Focus interupted. Not Set on ["+F+"]");}}).delayFor(100);function B(F,E,G){var H=F[E];if(H){F[E]=function(J){var I=[J];H.apply(F,I);G.apply(F,I);};}else{F[E]=G;}}function A(G){var E=G||window.event;var F=E.srcElement||E.target;setFocus(F.id);}D.captureFocusIn=function(E){$enumerate(["select","input","button","a"]).each(function(F){$enumerate(E.getElementsByTagName(F)).each(function(G){B(G,"onfocus",A);});});};window.onLoad(function(){D.captureFocusIn(document);});});