Droppables.affectedDrop=null;Droppables.ORIGINAL_show=Droppables.show;Droppables.show=function(A,B){if(!this.drops.length){return ;}if(this.last_active){this.deactivate(this.last_active);}var C=this.drops;if(DropRegions.init&&this.drops.all(function(D){return !D.scrollid;})){C=DropRegions.drops(A);}C.each(function(D){if(Position.within(D.element,A[0],A[1])){if(Droppables.isAffected(A,B,D)){Droppables.affectedDrop=D;if(D.onHover){D.onHover(B,D.element,Position.overlap(D.overlap,D.element));}if(D.greedy){Droppables.activate(D);}}}if(!DropRegions.init){DropRegions.register(D);}});DropRegions.init=true;};Droppables.ORIGINAL_isAffected=Droppables.isAffected;Droppables.isAffected=function(B,D,C){var A=false;A=Droppables.ORIGINAL_isAffected(B,D,C);if(A&&C.sort){if(!Ice.DnD.sortableDraggable(D)){A=false;}}return A;};Droppables.ORIGINAL_add=Droppables.add;Droppables.add=function(D,B){var C=Ice.StateMon.monitors;for(i=0;i<C.length;i++){A=C[i];if(A.id==D&&A.type=="Droppable"){return ;}}Droppables.ORIGINAL_add(D,B);if(B&&!B.sort){var A=new Ice.DroppableMonitor($(D),B);Ice.StateMon.add(A);}};