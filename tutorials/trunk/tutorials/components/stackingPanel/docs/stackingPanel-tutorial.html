<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd" >
<html>
<head>
    <title>Stacking Panel Tutorials</title>
    <LINK href="css/styles.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<!-- header section -->
<p class="tutorialHeaderText">The ICEfaces Tutorial<br/>
    <a href="index.html"> Table of Contents</a>
</p>
<hr/>

<p>
    <b>Lesson:</b> Using the Stacking Panel component
</p>

<!-- tutorial content section -->

<h1>How to Use the ICEfaces Stacking Panel Component</h1>

<p>
    The <span class="object-name">panelStack</span> component can be used to toggle the display of content between different sources.
    The <span class="object-name">panelStack</span> selects one of its child <span class="object-name">panelGroup</span>s to be visible such that the 
    <span class="object-name">panelGroup</span>'s id matches the value of the <span class="object-name">panelStack</span>.
</p>

<p>This tutorial will discuss the following topics:</p>
<ul>
    <li><a href="#creatingabasicstack">Creating a Basic Stacking Panel</a></li>
    <li><a href="#componentembedding">Embedding Components within a Panel Group</a>
    </li>
</ul>

<a name="creatingabasicstack">&nbsp;</a>
<h2>Creating a Basic Stacking Panel</h2>

<p>The Stacking Panel involves two elements: the <span class="object-name">panelStack</span> tag itself, which controls the visibility of the <span class="object-name">panelGroups</span> using its selectedPanel attribute; and its child <span class="object-name">panelGroup</span>s which identify themselves by their id.</p>


<div class="screenshot">
    <img src="images/basicPanelStackScreenshot.png"
         alt="Basic Panel Stack Example"/>
</div>

<p></p>

<p>For the basic Stacking Panel example, three <span class="object-name">panelGroups</span> are used. Each simply contains an <span class="object-name">outputText</span> tag indicating to which panelGroup they belong, allowing us to see that the visibility is changing. The <span class="object-name">selectOneRadio</span> component allows us to change the selected panel value in the backing bean.</p>

<pre>
&lt;f:view xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"&gt;

	&lt;ice:outputDeclaration doctypeRoot="HTML"
		doctypePublic="-//W3C//DTD HTML 4.01 Transitional//EN"
		doctypeSystem="http://www.w3.org/TR/html4/loose.dtd" /&gt;

	&lt;html&gt;
	&lt;head&gt;
	&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"&gt;&lt;/meta&gt;
	&lt;title&gt;Stacking Panel Component Tutorial&lt;/title&gt;
	&lt;link href="./xmlhttp/css/xp/xp.css" rel="stylesheet" type="text/css" /&gt;
	&lt;/head&gt;
	&lt;body&gt;
	&lt;h2&gt;Basic Panel Stack Example&lt;/h2&gt;
	&lt;p&gt;Use the radio buttons to select which panelGroup to display.&lt;/p&gt;
	&lt;ice:form&gt;

		&lt;ice:selectOneRadio <strong>value="#{stackingPanel.selectedGroup}"</strong>
			partialSubmit="true"&gt;
			&lt;f:selectItem itemLabel="Group One" itemValue="groupOne" /&gt;
			&lt;f:selectItem itemLabel="Group Two" itemValue="groupTwo" /&gt;
			&lt;f:selectItem itemLabel="Group Three" itemValue="groupThree" /&gt;
		&lt;/ice:selectOneRadio&gt;

		<strong>&lt;ice:panelStack selectedPanel="#{stackingPanel.selectedGroup}"&gt;

			&lt;ice:panelGroup id="groupOne"&gt;
				&lt;ice:outputText value="Group 1" /&gt;
			&lt;/ice:panelGroup&gt;
			
			&lt;ice:panelGroup id="groupTwo"&gt;
				&lt;ice:outputText value="Group 2" /&gt;
			&lt;/ice:panelGroup&gt;

			&lt;ice:panelGroup id="groupThree"&gt;
				&lt;ice:outputText value="Group 3" /&gt;
			&lt;/ice:panelGroup&gt;

		&lt;/ice:panelStack&gt;</strong>

	&lt;/ice:form&gt;
	&lt;/body&gt;
	&lt;/html&gt;
&lt;/f:view&gt;
</pre>

<p>The following code is taken from PanelStackBean.java which controls the state of the Stacking Panel</p>

<pre>
package com.icesoft.icefaces.tutorial.component.panelStack.basic;

/**
 * &lt;p>
 * The PanelStackBean controls the visibilty of the 
 * panelStack's child panelGroup element. Using a bean
 * allows the selected element to be changed with a UI control.
 *&lt;/p>
 */
public class PanelStackBean {

	// default panel
	private String selectedGroup = "groupOne";

	/**
	 * Gets the selected panel group.
	 * 
	 * @return the panel group id
	 */
	public String getSelectedGroup() {
		return selectedGroup;
	}

	/**
	 * Sets the selected panel group.
	 * 
	 * @param selectedGroup the new panel group id
	 */
	public void setSelectedGroup(String selectedGroup) {
		this.selectedGroup = selectedGroup;
	}
}
</pre>


<p>
    The PanelStackBean must be instantiated in the <span class="code-xml">faces-config.xml</span>
    so that we can use it in our JSF application. 
</p>
<pre>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;!DOCTYPE faces-config PUBLIC
        "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN"
        "http://java.sun.com/dtd/web-facesconfig_1_1.dtd"&gt;

&lt;faces-config&gt;
    &lt;application&gt;
        &lt;locale-config&gt;
            &lt;default-locale&gt;en&lt;/default-locale&gt;
        &lt;/locale-config&gt;
    &lt;/application&gt;

    &lt;!-- Basic Stacking Panel example bean--&gt;
    &lt;managed-bean&gt;
        &lt;description&gt;
            Backing bean for Stacking Panel example.
        &lt;/description&gt;
        &lt;managed-bean-name&gt;stackingPanel&lt;/managed-bean-name&gt;
        &lt;managed-bean-class&gt;
            com.icesoft.icefaces.tutorial.component.panelStack.basic.PanelStackBean
        &lt;/managed-bean-class&gt;
        &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;
    &lt;/managed-bean&gt;

&lt;/faces-config&gt;
</pre>

<div class="demo-instruction" >
    <h3>Download the demo:</h3>
    <ul>
<li>Download the panelStack-basic source code <a href="panelStack-basic-tutorial.zip">here</a>.</li>
        <li>By default, Group 1 will be displayed.</li>
        <li>Use the radio buttons to select different Panel Groups.</li>
    </ul>
</div>

<a name="componentembedding">&nbsp;</a>
<h2>Embedding Components within a Group</h2>

<p>ICEfaces components and (X)HTML elements can be embedded within a <span class="object-name">panelGroup</span>. By including components within a <span class="object-name">panelGroup</span> we can also further show the ability to manipulate the <span class="object-name">panelStack</span> via the backing bean. A <span class="object-name">selectOneMenu</span> will be used with a <span class="object-name">commandButton</span> to trigger a change in the <span class="object-name">panelStack</span> value via an actionListener method.</p>

<pre>

	&lt;ice:panelGroup id="groupOne"&gt;
		&lt;ice:outputText value="Group 1" /&gt;
		&lt;br /&gt;
		<strong>&lt;ice:selectOneMenu value="#{stackingPanel.actionSelectedGroup}"
			partialSubmit="true"&gt;
			&lt;f:selectItem itemLabel="Group One" itemValue="groupOne" /&gt;
			&lt;f:selectItem itemLabel="Group Two" itemValue="groupTwo" /&gt;
			&lt;f:selectItem itemLabel="Group Three" itemValue="groupThree" /&gt;
		&lt;/ice:selectOneMenu&gt;
		&lt;ice:commandButton
			value="Switch to #{stackingPanel.actionSelectedGroup}"
			actionListener="#{stackingPanel.switchGroup}" /&gt;</strong>
	&lt;/ice:panelGroup&gt;

</pre>

<p>The PanelStackBean will require some additional properties to account for the new behaviour.</p>

<pre>
import javax.faces.event.ActionEvent;
...
	private String actionSelectedGroup = "groupTwo";
...
	public void switchGroup(ActionEvent e){
		selectedGroup = actionSelectedGroup;
	}

	public String getActionSelectedGroup() {
		return actionSelectedGroup;
	}

	public void setActionSelectedGroup(String actionSelectedGroup) {
		this.actionSelectedGroup = actionSelectedGroup;
	}

</pre>


<div class="screenshot">
    <img src="images/embeddedScreenShot.png"
         alt="Components embedded within a Panel Group" />
</div>

<br/>

<div class="demo-instruction" >
    <h3>Download the demo:</h3>
    <ul>
<li>Download the panelStack-basic source code <a href="panelStack-embedded-tutorial.zip">here</a>.</li>
        <li>Group one contains embedded components.</li>
        <li>Use the embedded components as an alternate way of switching between panels.</li>
    </ul>
</div>

<br/>
<a name="otherstackingpanelexamples">&nbsp;</a>
<h2>Examples that Use Stacking Panel</h2>

<table cellpadding="1" cellspacing="0" class="examplesTable">
    <thead>
        <tr>
            <td class="headerTitle">Example</td>
            <td class="headerTitle">Source</td>
            <td class="headerTitle">Notes</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="bodyExample">Component Showcase</td>
            <td class="bodySource">Available in release bundles</td>
            <td class="bodyNotes">Each component example is toggled into view with a Stacking Panel</td>
        </tr>
        <tr>
            <td class="bodyExample">Webmail</td>
            <td class="bodySource">Available in release bundles</td>
            <td class="bodyNotes">The inbox, contacts, etc. view is controlled with a Stacking Panel.</td>
        </tr>

        <tr>
            <td class="bodyExample">Acronym Game</td>
            <td class="bodySource">N/A</td>
            <td class="bodyNotes">A Stacking Panel switches between displaying the acronym, voting, and congratulations.</td>
        </tr>

        <tr>
            <td class="bodyExample">panelStack-basic</td>
            <td class="bodySource"><a href="panelStack-basic-tutorial.zip" >panelStack-basic source code</a></td>
            <td class="bodyNotes">Simple example of how to setup a panelStack component and backing bean</td>
        </tr>
<tr>
            <td class="bodyExample">panelStack-embedded</td>
            <td class="bodySource"><a href="panelStack-embedded-tutorial.zip" >panelStack-embedded source code</a></td>
            <td class="bodyNotes">A panelStack using custom components</td>
        </tr>

    </tbody>
</table>

<!-- footer section -->
<hr/>

<p class="tutorialFooterText">The ICEfaces Tutorial
    <br/>
    <a href="index.html"> Table of Contents</a>
</p>

<p>Copyright 2006 ICEsoft Technologies Inc. All rights reserved.</p>
</body>
</html>
