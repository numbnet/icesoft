<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd" >
<html>
<head>
    <title>OutputChart Component Tutorials</title>
    <LINK href="css/styles.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<!-- header section -->
<p class="tutorialHeaderText">The ICEfaces Tutorial<br/>
    <a href="index.html"> Table of Contents</a>
</p>
<hr/>

<p>
    <b>Lesson:</b> Using the OutputChart component
</p>

<!-- tutorial content section -->

<h1>How to Use the ICEfaces OutputChart Component</h1>

<p>
    The <span class="object-name">outputChart</span> uses the JCharts open source
    charting utility <a href="http://jcharts.sourceforge.net/">(http://jcharts.sourceforge.net/)</a> to create charts. The two
    main types of charts that can be created with this component are axis charts
    and pie charts.
</p>

<p>This tutorial will discuss the following topics related to the use of the
    <span class="object-name">outputChart</span> component:</p>
<ul>
    <li><a href="#axisoutputChartcomponent">Axis OutputChart Component</a></li>
    <li><a href="#pieoutputChartcomponent">Pie OutputChart Component</a>
    </li>
    <li><a href="#combiningoutputChartcomponent">Combining with the OutputChart Component</a></li>
    <li><a href="#examplesthatuseoutputChart">Examples that use OutputChart Component</a></li>
</ul>

<a name="axisoutputChartcomponent"><h2>Axis OutputChart Component</h2></a>

    <p>There are 7 types of axis charts: area, areastacked, bar, barclustered, barstacked,
       line and point.
    </p>

<table>
    <tr>
    <td>
      <div class="screenshot">
          <img src="images/area.png"
                title="Area Chart"
                alt="Area Chart" />
      </div>
    </td>
    <td>
      <div class="screenshot">
          <img src="images/areastacked.png"
                title="AreaStacked Chart"
                alt="AreaStacked Chart" />
      </div>
    </td>
    </tr>
    <tr>
    <td>
      <div class="screenshot">
          <img src="images/bar.png"
                title="Bar Chart"
                alt="Bar Chart" />
      </div>
    </td>
    <td>
      <div class="screenshot">
          <img src="images/barclustered.png"
                title="BarClustered Chart"
                alt="BarClustered Chart" />
      </div>
    </td>
    </tr>
    <tr>
    <td>
      <div class="screenshot">
          <img src="images/barstacked.png"
                title="BarStacked Chart"
                alt="BarStacked Chart" />
      </div>
    </td>
    <td>
      <div class="screenshot">
          <img src="images/line.png"
                title="Line Chart"
                alt="Line Chart" />
      </div>
    </td>
    </tr>
    <tr>
    <td>
      <div class="screenshot">
          <img src="images/point.png"
                title="Point Chart"
                alt="Point Chart" />
      </div>
    </td>
    <td>
    </tr>
</table>
		<pre>
				&lt;ice:outputChart id="axisOutputChart"
								 type="bar"
								 chartTitle="Bar Chart"
								 yaxisTitle="Problems"
								 xaxisTitle="Years"
								 xaxisLabels="#{axisChartBean.labels}"
								 labels="#{axisChartBean.legendLabels}"
								 colors="#{axisChartBean.paints}"
								 data="#{axisChartBean.data}" /&gt;
		</pre>
       <p>
       The "colors" method of the bean may return either a java.util.List of
       java.awt.Color, an array of java.awt.Color or a String array.
       You can also define the data statically in the jsf page:
       </p>
		<pre>
		   colors="red, blue, green"
		</pre>
	   <p>
       The "data" method of the bean may return either a java.util.List of
       double array for each pair value, or a double array.
       You can also define the data statically in the jsf page:
	   </p>
	   <pre>
		   Defining the data for an axis type chart in the jsf page for two data sets:
		   data="10, 30, 40, 33: 30, 20, 30, 40"
		   NOTE: the colon(":") is used as the identifier for a new data set.
		</pre>
       <p>The axis charts use the same underlying data structure which can allow you
       to change the chart type dynamically:
	   </p>
	   <pre>
		   type="#{axisChartBean.type}"
		</pre>
       <p>
       The participation of the outputChart component with the jsf lifecycle allows
       developers to hook actionListeners to a clientSideImageMap. This feature can
       be harnessed to provide drill down behavior in all axis charts except area and
       areastacked.  In the demo, when you click on a bar in the chart this will trigger
       the actionListener to display the value of that bar on the page.
       </p>
       <pre>
           actionListener="#{axisChartBean.imageClicked}"
       </pre>
       <p>
       By default the chart component renders only on the first render cycle and any
       further render requests will not cause it to be re-rendered unless specified.
       The rendering of a chart can be an expensive operation if it renders on every
       render phase. The renderOnSubmit attribute lets the developer decide when to
       render the chart.
       </p>
       <pre>
           renderOnSubmit="#{axisChartBean.newChart}"
       </pre>
<br/>

<div class="demo-instruction">
    <h3>Download the demo:</h3>
    <ul>
<li>Download the outputChart-axis source code <a
                href="outputChart-axis-tutorial.zip">here</a>.</li>
    </ul>
</div>

<a name="pieoutputChartcomponent"><h2>Pie OutputChart Component</h2></a>

    <p>There are 2 types of pie charts: 2D and 3D.
    </p>

<table>
<tr>
    <td>
      <div class="screenshot">
          <img src="images/pie2D.png"
                title="Pie2D Chart"
                alt="Pie2D Chart" />
      </div>
    </td>
    <td>
      <div class="screenshot">
          <img src="images/pie3D.png"
                title="Pie3D Chart"
                alt="Pie3D Chart" />
      </div>
    </td>
</tr>
</table>

		<pre>
            &lt;ice:outputChart id="pie2DOutputChart"
                             type="pie2D"
                             chartTitle="Pie2D Chart"
                             labels="#{pieChart.labels}"
                             data="#{pieChart.data}"
                             colors="#{pieChart.paints}"
                             actionListener="#{pieChart.action}"
                             renderOnSubmit="#{pieChart.newChart}" /&gt;
		</pre>
	<p>
       Pie Charts require a different data model (one dimensional versus the two
       dimensional model with axis charts) so we have a different bean for the pie
       charts.
    </p>
    <p>
       The 2D demo shows a 2D Pie Chart with an actionListener that will show a further
       breakdown of the pie data.  This shows the ability of any chart to pass the
       selected image map data into the bean for further processing.  In this case, we
       have a separate ice:dataTable component showing a breakdown of the yearly sales
       selected from the 2D Pie Chart.
    </p>
    <p>
       The 3D demo shows how you can dynamically manipulate any chart through the UI.
       The data, label and paint properties can each be bound to Lists in a
       backing bean. This feature allows developers to easily manipulate chart
       properties in the backing bean.
    </p>

<div class="demo-instruction">
    <h3>Download the demo:</h3>
    <ul>
<li>Download the outputChart-pie2D source code <a
                href="outputChart-pie2D-tutorial.zip">here</a>.
        </li>
    </ul>
</div>
<div class="demo-instruction">
    <h3>Download the demo:</h3>
    <ul>
<li>Download the outputChart-pie3D source code <a
                href="outputChart-pie3D-tutorial.zip">here</a>.
        </li>
    </ul>
</div>

<a name="combiningoutputchartcomponent"><h2>Combining with the OutputChart Component</h2></a>

    <p>You can create any type of chart or combine charts using the JCharts API in your
    bean. You can then pass this custom chart to the outputChart component which will
    allow the chart to participate in the JSF lifecycle.
    </p>
      <div class="screenshot">
          <img src="images/combinedcharts.png"
                title="Combined Chart"
                alt="Combined Chart" />
      </div>
    <p>The proper place for chart manipulation using the JCharts API is in the method
    binding which is bound to the renderOnSubmit attribute, which tells the component
    whether to render the chart:</p>
    <pre>
//JSF
&lt;ice:outputChart type="custom" renderOnSubmit="#{combinedChart.newChart}" /&gt;

//Bean
public boolean newChart(OutputChart component){
    try {
        .............
        .............
        org.krysalis.jcharts.axisChart.AxisChart axisChart= new org.krysalis.jcharts.axisChart.AxisChart( ......);
        component.setChart(axisChart);
        return true;
    } catch (Exception e) {
        e.printStackTrace();
        return false;
    }
}
    </pre>



<div class="demo-instruction">
    <h3>Download the demo:</h3>
    <ul>
<li>Download the outputChart-combined source code <a
                href="outputChart-combined-tutorial.zip">here</a>.
        </li>
    </ul>
</div>

<a name="examplesthatuseoutputchart"><h2>Examples that Use OutputChart</h2></a>

<table cellpadding="1" cellspacing="0" class="examplesTable" width="100%" >
    <thead>
        <tr>
            <td class="headerTitle">Example</td>
            <td class="headerTitle">Source</td>
            <td class="headerTitle">Notes</td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td class="bodyExample">Component Showcase</td>
            <td class="bodySource">Available in release bundles</td>
            <td class="bodyNotes">Contains outputChart example.</td>
        </tr>
        <tr>
            <td class="bodyExample">outputChart-axis</td>
            <td class="bodySource"><a
                    href="outputChart-axis-tutorial.zip">outputChart-axis
                source code</a></td>
            <td class="bodyNotes">Simple example of how to use the outputChart component.</td>
        </tr>
        <tr>
            <td class="bodyExample">outputChart-pie2D</td>
            <td class="bodySource"><a
                    href="outputChart-pie2D-tutorial.zip">outputChart-pie2D
                source code</a></td>
            <td class="bodyNotes"> Example of advanced use of ActionListener with the
            the outputChart component.</td>
        </tr>
        <tr>
            <td class="bodyExample">outputChart-pie3D</td>
            <td class="bodySource"><a
                    href="outputChart-pie3D-tutorial.zip">outputChart-pie3D
                source code</a></td>
            <td class="bodyNotes"> Example showing the manipulation of chart
            properties in the backing bean.</td>
        </tr>
        <tr>
            <td class="bodyExample">outputChart-combined</td>
            <td class="bodySource"><a
                    href="outputChart-combined-tutorial.zip">outputChart-combined
                source code</a></td>
            <td class="bodyNotes">Example showing the combination of chart types through the
            use of the JCharts API in the backing bean.</td>
        </tr>
    </tbody>
</table>

<!-- footer section -->
<hr/>

<p class="tutorialFooterText">The ICEfaces Tutorial
    <br/>
    <a href="index.html"> Table of Contents</a>
</p>

<p>Copyright 2006 ICEsoft Technologies Inc. All rights reserved.</p>
</body>
</html>