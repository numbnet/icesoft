<?xml version="1.0" encoding="utf-8" ?>
<project name="icechat-prototype" default="war">
	
	<property file="../build-common.properties" />

	<import file="../build-common.xml" />

	<target name="war" depends="compile">
		<build.war>
			<add.libs>
				<fileset refid="beans" />
				<fileset refid="auth" />
			</add.libs>
			<add.filesets>
				<fileset dir="../ajax/build/webapp">
					<include name="**/*"/>
					<exclude name="**/index.html"/>
					<exclude name="**/login.html"/>
					<exclude name="**/icechat.js"/>
				</fileset>
				<fileset dir="../../../integration/prototype/core/src/main/javascript">
					<include name="prototype.icepush.js"/>
				</fileset>
			</add.filesets>
		</build.war>
	</target>

	<target name="compile" depends="clean">
		<compile>
			<add.classpath.elements>
				<fileset refid="auth"/>
			</add.classpath.elements>
		</compile>
	</target>
	
</project>
