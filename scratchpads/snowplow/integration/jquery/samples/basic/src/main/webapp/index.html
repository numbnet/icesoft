<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>ICEpush ICEchat (Basic jQuery Sample)</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
        <link rel='stylesheet' type='text/css' href='./css/style-common.css'/>
        <script type="text/javascript" src="code.icepush"></script>
        <script type="text/javascript" src="./js/jquery-1.4.1.js"></script>
        <script type="text/javascript" src="./js/jquery.icepush.js"></script>  
    </head>
    <body>
    	
    	<div id="headerContainer" class="header_container">
    		<div class="header_content"><img width="109px" height="100px"
				src="./img/banner_hdr.jpg" style="float: left" />
				<div style="font-size: 20pt; color: #0F65B8; margin-top: 45px;float:left;">
					<span style="font-weight: bold;">ICEpush</span> 
					<span style="font-style: italic; font-family: Times New Roman"> with jQuery</span>
					<div> Server Time: <span id="time"></span></div>
				</div>
				<div style="float:right;margin-top:45px;">
					<img src="./img/jquery.gif" width="170px"/>
				</div>
			</div>    		
    	</div>
        
        <div class="body_container" id="content"> 
          	<div class="demoBox" >
				<h3>Groups</h3>
				<h4>$('#groups').loadPushUpdates("groups","groups");</h4>
				<div id="groups">
					<div class="loading"></div>
				</div>
				<form id="createNewChatRoom">
					<div>
						Create New Group
						<br />
						<label for="newGroupName">Name</label>&nbsp;
						<input type="text" id="newGroupName" style="width: 90px;margin-top:5px;" 
							onkeypress="if(event.keyCode == 13){ $.post('creategroup',{group:$('#newGroupName').val()});return false;}"/>
						<input type="button" value="Create" style="margin-top:5px;"
							onclick="$.post('creategroup',{group:$('#newGroupName').val()});" />
						<input type="button" value="Stop Listening to Groups" style="margin-top:5px;"
							onclick="$.push.stopListeningToGroup('groups');" />
						<input type="button" value="Listen to Groups" style="margin-top:5px;"
							onclick="$.push.listenToGroup('groups',function(){ $('#groups').load('groups');});" />
					</div>
				</form>
			</div>
		
			<div class="demoBox" >
				<h3>Multiple Appended Groups</h3>
				<h4>$('.appendedGroups').appendPushUpdates("groups","groups");</h4>
				<div style="padding:5px;margin:10px;background-color:#FFF;" class='appendedGroups'>
				
				</div>
				<div style="padding:5px;margin:10px;background-color:#FFF;" class='appendedGroups'>
				
				</div>
			</div>					
		
		</div>
		
		<script type="text/javascript">
			$('#groups').load('groups');
			$('#groups').loadPushUpdates("groups","groups");
			$('.appendedGroups').appendPushUpdates("groups","groups");
			$.push.listenToGroup("time", function(){ 
				$("#time").load('time');//, function(){ 
					//$("#time").hide().fadeIn(500);
				//}); 
			});
		</script>
			
    </body>
</html>

