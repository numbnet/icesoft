<project default="bin-dist">
	
	<!-- all integrations must provide this target
	- assume that the current directory is at the snowplow root.  Thus all paths are relative to the root of the snowplow project.
	 -->
	<target name="bin-dist">
		<echo>Building ICEpush GWT Binary Integration</echo>
		<antcall target="jar-gwt-core"/>
		<copy file="./integration/gwt/core/dist/icepush-gwt.jar" todir="${dist.build.dir}"/>
	</target>
	
	<!-- all integrations must provide this target
		- assume that the current directory is at the snowplow root.  Thus all paths are relative to the root of the snowplow project.
		- target must build each of the samples and copy the resulting war file to ${bin.samples.dir}
	-->
	<target name="bin-samples">
		<ant antfile="build.xml" dir="./samples/icechat" target="gwt"/>
		<copy file="./samples/icechat/web/gwt/dist/icechat-gwt.war" todir="${bin.sample.dir}"></copy>
		
	</target>
	
	<target name="jar-gwt-core">
		<ant antfile="build.xml" dir="./integration/gwt/core" target="jar"/>
	</target>
	
	<target name="clean">
		<ant antfile="build.xml" dir="./integration/gwt/core" target="clean"/>
		<ant antfile="build.xml" dir="./integration/gwt/samples/greeting" target="clean"/>
		<ant antfile="build.xml" dir="./integration/gwt/samples/commands" target="clean"/>
	</target>
</project>