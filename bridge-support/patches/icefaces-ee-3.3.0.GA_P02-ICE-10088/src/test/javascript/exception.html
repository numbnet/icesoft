<!--
  ~ Copyright 2004-2013 ICEsoft Technologies Canada Corp.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the
  ~ License. You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an "AS
  ~ IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
  ~ express or implied. See the License for the specific language
  ~ governing permissions and limitations under the License.
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <script type="text/javascript" src="../../main/javascript/oo.js"></script>
    <script type="text/javascript" src="../../main/javascript/functional.js"></script>
    <script type="text/javascript" src="../../main/javascript/collection.js"></script>
    <script type="text/javascript" src="../../main/javascript/string.js"></script>
    <script type="text/javascript" src="../../main/javascript/exception.js"></script>
    <script type="text/javascript" src="unittest.js"></script>
    <script type="text/javascript">
        window.onload = InPageRunner('Collection test suite', function(test) {
            test('check stack caturing', function() {
                function a(x, y) {
                    throw Exception('testing exception');
                }

                function b(z) {
                    a(333, 'rrrr');
                }

                function c(x1, x2, x3) {
                    b(x1, x2);
                }

                var d = function(q, t) {
                    c(window, c);
                };

                try {
                    d([1, 3, 4, 6]);
                } catch (ex) {

                    alert(asString(ex));
                }
            });
        });
    </script>
</head>
<body/>
</html>