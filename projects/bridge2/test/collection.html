<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Collection tests</title>
    <script type="text/javascript" src="../newlib/oo.js"></script>
    <script type="text/javascript" src="../newlib/functional.js"></script>
    <script type="text/javascript" src="../newlib/collection.js"></script>
    <script type="text/javascript" src="unittest.js"></script>
    <script type="text/javascript">
        window.onload = InPageRunner('Collection tests', function(test) {
            test('Detect arrays', function() {
                checkTrue(isArray([]), 'array is not detected');
                checkFalse(isArray(''), 'array is detected falsely');
                checkFalse(isArray(new Object), 'array is detected falsely');
            });

            test('Detect strings', function() {
                checkTrue(isString(''), 'string is not detected');
                checkFalse(isString([]), 'string is detected falsely');
                checkFalse(isString(new Object), 'string is detected falsely');
            });

            test('Indexed access in arrays', function() {
                checkEqual(indexOf([1, 2, 3], 1), 0);
                checkEqual(indexOf([1, 2, 3], 2), 1);
                checkEqual(indexOf(['a', 'b', 'c'], 'c'), 2);
                checkEqual(indexOf(['a', 'b', 'c'], 'd'), -1);
                checkException(function() {
                    indexOf(new Object, 1);
                });
            });

            test('Indexed access in strings', function() {
                checkEqual(indexOf('abc', 'a'), 0);
                checkEqual(indexOf('abc', 'b'), 1);
                checkEqual(indexOf('abc', 'c'), 2);
                checkEqual(indexOf('abc', 'd'), -1);
            });
        });
    </script>
</head>
<body/>
</html>