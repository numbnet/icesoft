<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ice="http://www.icesoft.com/icefaces/component" >

<div>
	<h1>Current Hotel Bookings</h1>

  <ice:form id="bookings">
	<h:outputText value="No Bookings Found" rendered="#{bookings.rowCount==0}"/>
	<ice:dataTable id="bookings" value="#{bookings}" var="book" rendered="#{bookings.rowCount>0}">
		<h:column>
			<f:facet name="header">Name</f:facet>
			<ice:outputText value="#{book.hotel.name}" onmouseovereffect="#{highlight}"/>
		</h:column>
		<h:column>
			<f:facet name="header">Address</f:facet>
			<ice:outputText value="#{book.hotel.address}" onmouseovereffect="#{highlight}"/>
		</h:column>
		<h:column>
			<f:facet name="header">City, State</f:facet>
			<ice:outputText value="#{book.hotel.city}, #{book.hotel.state}" onmouseovereffect="#{highlight}"/>
		</h:column>
        <h:column>
            <f:facet name="header">Check in date</f:facet>
            <h:outputText value="#{book.checkinDate}" onmouseovereffect="#{highlight}"/>
        </h:column>
        <h:column>
            <f:facet name="header">Check out date</f:facet>
            <h:outputText value="#{book.checkoutDate}" onmouseovereffect="#{highlight}"/>
        </h:column>
		<h:column>
			<f:facet name="header">Confirmation number</f:facet>
			<ice:outputText value="#{book.id}" onmouseovereffect="#{highlight}"/>
		</h:column>
		<h:column>
			<f:facet name="header">Action</f:facet>
			<ice:commandLink id="cancel" value="Cancel" action="#{bookingList.cancel}"/>
		</h:column>
	</ice:dataTable>
  </ice:form>
</div>

</ui:composition>