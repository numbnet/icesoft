<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
		    xmlns:ice="http://www.icesoft.com/icefaces/component"  
                template="layout/template.xhtml">
                       
<ui:define name="body">
    
    <h:messages globalOnly="true" styleClass="message" id="globalMessages"/>
    
    <ice:form id="bidderForm" styleClass="edit">
	<ice:panelCollapsible expanded="#{userList.openStatus}" 
				actionListener="#{userList.toggle}" >
	   <f:facet name="header">
           <ice:panelGrid id="accordionHeaderStyle" columns="2" columnClasses="leftMenu,rightMenu">
                  <ice:outputText value="Bidder Search"/>
                   <ice:graphicImage value="img/expand_#{userList.openStatus}.gif" />
		</ice:panelGrid>
	  </f:facet>        
        <ice:panelGroup styleClass="edit">
		 <ice:panelGrid columns="2" rowClasses="prop" columnClasses="name,value">
	
                <h:outputLabel for="username">username</h:outputLabel>
                <ice:inputText id="username" 
                          value="#{userList.user.username}"
				  partialSubmit="true"/>
	
	
                <h:outputLabel for="password">password</h:outputLabel>
                <ice:inputText id="password" 
                          value="#{userList.user.password}"
				  partialSubmit="true"/>
	
	
                <h:outputLabel for="name">name</h:outputLabel>
                <ice:inputText id="name" 
                          value="#{userList.user.name}"
				  partialSubmit="true"/>
	
	
                <h:outputLabel for="role">role</h:outputLabel>
                <ice:inputText id="role" 
                          value="#{userList.user.role}"
				  partialSubmit="true"/>
	
            </ice:panelGrid>
   
	</ice:panelGroup>
   </ice:panelCollapsible>
        
        <div class="actionButtons">
            <ice:commandButton id="search" value="Search" action="/UserList.xhtml"/>
        </div>
      
    </ice:form>
    
    <ice:panelGroup styleClass="formBorderHighlight">

    <h3>Bidder Search Results</h3>

    <div class="searchResults" id="contactgroupListResults">
    <ice:outputText value="No bidder exists" 
               rendered="#{empty userList.resultList}"/>
               
    <ice:dataTable id="userList"
                var="bidder"
              value="#{userList.resultList}"
		columnClasses="allCols"
           rendered="#{not empty userList.resultList}">
<!--
        <ice:column>
            <f:facet name="header">
                <s:link styleClass="columnHeader"
                             value="bidderId #{userList.order=='bidderId asc' ? messages.down : ( userList.order=='bidderId desc' ? messages.up : '' )}">
                    <f:param name="order" value="#{userList.order=='bidderId asc' ? 'bidderId desc' : 'bidderId asc'}"/>
                </s:link>
            </f:facet>
            #{bidder.bidderId}&amp;nbsp;
        </ice:column>
-->
        <ice:column>
            <f:facet name="header">
                <s:link styleClass="columnHeader"
                             value="username #{userList.order=='username asc' ? messages.down : ( userList.order=='username desc' ? messages.up : '' )}">
                    <f:param name="order" value="#{userList.order=='username asc' ? 'username desc' : 'username asc'}"/>
                </s:link>
            </f:facet>
            #{bidder.username}&amp;nbsp;
        </ice:column>
        <ice:column>
            <f:facet name="header">
                <s:link styleClass="columnHeader"
                             value="password #{userList.order=='password asc' ? messages.down : ( userList.order=='password desc' ? messages.up : '' )}">
                    <f:param name="order" value="#{userList.order=='password asc' ? 'password desc' : 'password asc'}"/>
                </s:link>
            </f:facet>
            #{bidder.password}&amp;nbsp;
        </ice:column>
        <ice:column>
            <f:facet name="header">
                <s:link styleClass="columnHeader"
                             value="name #{userList.order=='name asc' ? messages.down : ( userList.order=='name desc' ? messages.up : '' )}">
                    <f:param name="order" value="#{userList.order=='name asc' ? 'name desc' : 'name asc'}"/>
                </s:link>
            </f:facet>
            #{bidder.name}&amp;nbsp;
        </ice:column>
        <ice:column>
            <f:facet name="header">
                <s:link styleClass="columnHeader"
                             value="role #{userList.order=='role asc' ? messages.down : ( userList.order=='role desc' ? messages.up : '' )}">
                    <f:param name="order" value="#{userList.order=='role asc' ? 'role desc' : 'role asc'}"/>
                </s:link>
            </f:facet>
            #{bidder.role}&amp;nbsp;
        </ice:column>
        <ice:column>
            <f:facet name="header">action</f:facet>
            <s:link view="/#{empty from ? 'User' : from}.xhtml"
                   value="Select" 
                      id="bidder">
                <f:param name="userUserId" 
                        value="#{bidder.username}"/>
            </s:link>
        </ice:column>
    </ice:dataTable>

    </div>
</ice:panelGroup>

    <div class="tableControl">
      
        <s:link view="/UserList.xhtml"
            rendered="#{userList.previousExists}"
               value="#{messages.left}#{messages.left} First Page"
                  id="firstPage">
          <f:param name="firstResult" value="0"/>
        </s:link>
        
        <s:link view="/UserList.xhtml"
            rendered="#{userList.previousExists}"
               value="#{messages.left} Previous Page"
                  id="previousPage">
            <f:param name="firstResult" 
                    value="#{userList.previousFirstResult}"/>
        </s:link>
        
        <s:link view="/UserList.xhtml"
            rendered="#{userList.nextExists}"
               value="Next Page #{messages.right}"
                  id="nextPage">
            <f:param name="firstResult" 
                    value="#{userList.nextFirstResult}"/>
        </s:link>
        
        <s:link view="/UserList.xhtml" 
            rendered="#{userList.nextExists}"
               value="Last Page #{messages.right}#{messages.right}"
                  id="lastPage">
            <f:param name="firstResult" 
                    value="#{userList.lastFirstResult}"/>
        </s:link>
        
    </div>
    
    <s:div styleClass="actionButtons" rendered="#{empty from}">
        <s:button view="/UserEdit.xhtml"
                    id="create" 
                 value="Create bidder">
            <f:param name="userUserId"/>
        </s:button>
    </s:div>
    
</ui:define>

</ui:composition>

