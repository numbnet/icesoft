<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ice="http://www.icesoft.com/icefaces/component"
                template="layout/template.xhtml">

    <ui:define name="body">

        <h:messages globalOnly="true" styleClass="message" id="globalMessages"/>

        <ice:form id="bidForm" styleClass="edit">
            <ice:panelAccordion styleClass="accordion2">
                <f:facet name="header">
                    <ice:panelGrid id="accordionHeaderStyle" columns="2" columnClasses="leftMenu,rightMenu">
                        <ice:outputText value="Auction item search"/>
                        <ice:graphicImage value="img/expand_true.gif"/>
                    </ice:panelGrid>
                </f:facet>

                <ice:panelGroup styleClass="edit">
                    <ice:panelGrid columns="2" rowClasses="prop" columnClasses="name,value">
                        <h:outputText>item name</h:outputText>
                        <ice:inputText value="" partialSubmit="true"/>
                    </ice:panelGrid>
                </ice:panelGroup>
            </ice:panelAccordion>

            <div class="actionButtons">
                <s:button id="search" value="Search" action="#{itemSearch.find}"/>
                <!--<s:button id="search" value="Search" action="#{auctionSearch.find}"/>-->
            </div>
        </ice:form>

        <ice:panelGroup styleClass="formBorderHighlight">

            <h3>auction item search results</h3>

            <div class="searchResults" id="contactgroupListResults">
                <ice:outputText value="No item exists"
                                rendered="#{empty auctionitems}"/>

                <ice:dataTable id="itemList"
                               var="item"
                               value="#{auctionitems}"
                               columnClasses="allCols"
                               rendered="#{not empty auctionitems}">
                    <ice:column>
                        <f:facet name="header">
                            <s:link styleClass="columnHeader"
                                    value="Item Name">
                            </s:link>
                        </f:facet>
                        #{item.auctionitem.title}
                    </ice:column>
                    <ice:column>
                        <f:facet name="header">
                            <s:link styleClass="columnHeader"
                                    value="Price">
                            </s:link>
                        </f:facet>
                        #{item.auctionitem.price}
                    </ice:column>
                    <ice:column>
                        <f:facet name="header">
                            <s:link styleClass="columnHeader"
                                    value="Bids">
                            </s:link>
                        </f:facet>
                        #{item.auctionitem.bidCount}
                    </ice:column>
                </ice:dataTable>
            </div>
        </ice:panelGroup>

    </ui:define>

</ui:composition>
