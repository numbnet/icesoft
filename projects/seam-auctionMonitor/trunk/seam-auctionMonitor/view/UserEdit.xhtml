<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ice="http://www.icesoft.com/icefaces/component"
                template="layout/template.xhtml">

<ui:define name="body">

<h:messages globalOnly="true" styleClass="message" id="globalMessages"/>

<ice:form id="biddereditForm" styleClass="edit">

<ice:panelCollapsible expanded="#{userHome.openStatus}" 
                    actionListener="#{userHome.toggle}">
    <f:facet name="header">
        <ice:panelGrid id="accordionHeaderStyle" columns="2" columnClasses="leftMenu,rightMenu">
            <ice:outputText value="Edit Bidder"/>
            <ice:graphicImage value="img/expand_#{userHome.openStatus}.gif"/>
        </ice:panelGrid>
    </f:facet>
    <ice:panelGroup styleClass="edit">

        <f:facet name="beforeInvalidField">
            <ice:graphicImage styleClass="errorImg" value="img/error.png"/>
        </f:facet>
        <f:facet name="afterInvalidField">
            <s:message styleClass="errorMsg"/>
        </f:facet>
        <f:facet name="aroundInvalidField">
            <s:div styleClass="error"/>
        </f:facet>
        <s:validateAll>
            <ice:panelGrid columns="2" rowClasses="prop" columnClasses="name,value">

                <h:outputLabel for="username">
                    username
                    <span class="required">*</span>
                </h:outputLabel>
                <s:decorate>
                    <ice:inputText id="username"
                                   partialSubmit="false"
                                   required="true"
                                   size="45"
                                   maxlength="45"
                                   disabled="#{userHome.managed}"
                                   value="#{userHome.instance.username}">
                    </ice:inputText>
                </s:decorate>

                <h:outputLabel for="password">
                    password
                    <span class="required">*</span>
                </h:outputLabel>
                <s:decorate>
                    <ice:inputText id="password"
                                   partialSubmit="false"
                                   required="true"
                                   size="45"
                                   maxlength="45"
                                   value="#{userHome.instance.password}">
                    </ice:inputText>
                </s:decorate>

                <h:outputLabel for="name">
                    name
                    <span class="required">*</span>
                </h:outputLabel>
                <s:decorate>
                    <ice:inputText id="name"
                                   partialSubmit="false"
                                   required="true"
                                   size="45"
                                   maxlength="45"
                                   value="#{userHome.instance.name}">
                    </ice:inputText>
                </s:decorate>

                <h:outputLabel for="role">
                    role
                </h:outputLabel>
                <s:decorate>
                    <ice:inputText id="role"
                                   partialSubmit="false"
                                   size="45"
                                   maxlength="45"
                                   value="#{userHome.instance.role}">
                    </ice:inputText>
                </s:decorate>
                <div style="clear:both">
                    <span class="required">*</span>
                    required fields
                </div>

            </ice:panelGrid>
        </s:validateAll>
    </ice:panelGroup>
</ice:panelCollapsible>

<div class="actionButtons">

    <h:commandButton id="save"
                     value="Save"
                     action="#{userHome.persist}"
                     disabled="#{!userHome.wired}"
                     rendered="#{!userHome.managed}"/>

    <h:commandButton id="update"
                     value="Save"
                     action="#{userHome.update}"
                     rendered="#{userHome.managed}"/>

<!--
    <h:commandButton id="delete"
                     value="Delete"
                     action="#{userHome.remove}"
                     rendered="#{userHome.managed}"/>
-->

    <s:button id="done"
              value="Done"
              propagation="end"
              view="/User.xhtml"
              rendered="#{userHome.managed}"/>

    <s:button id="cancel"
              value="Cancel"
              propagation="end"
              view="/#{empty userFrom ? 'UserList' : userFrom}.xhtml"
              rendered="#{!userHome.managed}"/>

</div>

</ice:form>

</ui:define>

</ui:composition>



