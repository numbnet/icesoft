<div id="cloudpush" title="Notify It" class="panel">
    <h2>Device Notifications</h2>
    <fieldset>
        <div class="row"><p class="normalText">Cloud notifications with ICEpush...</p></div>
        <div class="row">
            <code>
                ice.push.notify(group,<br/>
                &nbsp;&nbsp;{subject:'subject', detail:'detail'});
            </code>
        </div>
    </fieldset>

    <a id="regBtn" type="button" class="whiteButton bridgeItBtn"
        onclick="bridgeit.register('_reg');">Enable Cloud Push</a>

    <a id="pushBtn" type="button" class="whiteButton bridgeItBtn"
        onclick="delayedPush();">Push in 10 seconds ...</a>

    <fieldset>
        <div class="row"></div>
    </fieldset>
    <fieldset id="notifications">
    </fieldset>
    <div class="footer">
        <a href="#">
            <img src="./images/icesoft-emblem.png" class="icesoft-emblem"/>
        </a>
        &copy; 2013 ICEsoft Technologies
    </div>
    <script type="text/javascript">

    function handleNotification(event)  {
        alert(event);
    }

    //change to a uniquely generated pushID once initial testing is complete
    var cloudPushId = ice.push.createPushId();
    ice.push.addGroupMember("bridgeit", cloudPushId);
    ice.push.register([cloudPushId], function(pushIds) {
        console.log("notified");
        alert("You have been notified.");
    });

    window.addEventListener("pageShow", function () {
        ice.push.connection.resumeConnection();
    }, false);

    window.addEventListener("pagehide", function () {
        ice.push.connection.pauseConnection();
    }, false);

    function delayedPush()  {
        ice.push.notify( 'bridgeit',
            {subject:'BridgeIt Cloud Push',
            detail:'You have been notified.'}, {delay:10000} );
    }

    </script>
   
</div>
